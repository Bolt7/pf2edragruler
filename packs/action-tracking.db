{"name":"Expend Action","permission":{"default":0,"HD2qGT37qLDtiX9K":3},"type":"script","flags":{"core":{"sourceId":"Macro.LQ2Po3lOHyLpXfIO"}},"scope":"global","command":"(async () => {\n  const combat = game.combats.active;\n  const combatant = combat.turns[combat.turn];\n      combatant.actor.setFlag(\n       'pf2e', 'actions.numActions',         \n        Math.max(token.actor.getFlag('pf2e', 'actions.numActions') - 1),0)\n  \n})();","author":"HD2qGT37qLDtiX9K","img":"icons/svg/downgrade.svg","actorIds":[],"_id":"BgAo78QIXjKOjb4B"}
{"name":"Reset Movement History","permission":{"default":0,"HD2qGT37qLDtiX9K":3},"type":"script","flags":{"core":{"sourceId":"Macro.H0TTBTPCzmoJrPrl"}},"scope":"global","command":"const combat = game.combats.active;\nconst combatant = combat.turns[combat.turn];\ncombatant.actor.unsetFlag('pf2e', 'actions');\ncombatant.actor.setFlag('pf2e', 'actions.numActions', 3);\nconst flags = {trackedRound: 0, rulerState: null};\nimport(\"/modules/drag-ruler/src/socket.js\").then(module => module.updateCombatantDragRulerFlags(combat, combatant, flags));","author":"HD2qGT37qLDtiX9K","img":"icons/svg/hazard.svg","actorIds":[],"_id":"MeM38noE1YVqsB8B"}
{"name":"Recover Action","permission":{"default":0,"HD2qGT37qLDtiX9K":3},"type":"script","flags":{"core":{"sourceId":"Macro.o8s3C8iBqrc4zxq7"}},"scope":"global","command":"(async () => {\n  const combat = game.combats.active;\n  const combatant = combat.turns[combat.turn];\n      combatant.actor.setFlag(\n           'pf2e', 'actions.numActions', \n            Math.min(token.actor.getFlag('pf2e', 'actions.numActions') + 1),4)\n  \n})();","author":"HD2qGT37qLDtiX9K","img":"icons/svg/upgrade.svg","actorIds":[],"_id":"caqYDiehpQrNLB84"}
{"name":"Remaining Actions","permission":{"default":0,"HD2qGT37qLDtiX9K":3},"type":"script","flags":{"core":{"sourceId":"Macro.3rZC496FF7NZAO2b"}},"scope":"global","command":"(async () => {\nconst combat = game.combats.active;\nconst combatant = combat.turns[combat.turn];\nlet remaining = combatant.actor.getFlag('pf2e', 'actions.remainingActions')\nlet results_html = ` Remaining Actions: ${remaining}`\n\nChatMessage.create({\nuser: game.user._id,\nspeaker: ChatMessage.getSpeaker({token: actor}),\ncontent: results_html\n});\n\n})();","author":"HD2qGT37qLDtiX9K","img":"icons/svg/sun.svg","actorIds":[],"_id":"d73sPKACflv1OYEW"}
{"$$deleted":true,"_id":"MeM38noE1YVqsB8B"}
{"name":"Reset Movement History","permission":{"default":0,"HD2qGT37qLDtiX9K":3},"type":"script","flags":{"furnace":{"runAsGM":false},"core":{"sourceId":"Macro.H0TTBTPCzmoJrPrl"}},"scope":"global","command":"const combat = game.combats.active;\nconst combatant = combat.turns[combat.turn];\ncombatant.actor.unsetFlag('pf2e', 'actions');\ndragRuler.resetMovementHistory(combat, combatant._id);","author":"HD2qGT37qLDtiX9K","img":"icons/svg/hazard.svg","actorIds":[],"_id":"vyoyprx955Odkm15"}
